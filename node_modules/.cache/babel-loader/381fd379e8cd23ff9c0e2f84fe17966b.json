{"ast":null,"code":"var _jsxFileName = \"/home/art/Desktop/VScripts/StarWars-Explorer/src/pages/Character/index.tsx\";\n\n/* eslint-disable react-hooks/rules-of-hooks */\n\n/* eslint-disable react/jsx-props-no-spreading */\n\n/* eslint-disable no-unused-expressions */\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useRouteMatch, Link } from 'react-router-dom';\nimport { FiChevronLeft } from 'react-icons/fi';\nimport { useContext } from 'react';\nimport api from '../../services/api';\nimport { Header, Info, Title } from './styles';\nimport { AuthContext } from '../../components/test';\n\nconst Character = () => {\n  const [character, setCharacter] = useState(null);\n  const [homeworld, setHomeworld] = useState(null);\n  const [species, setSpecies] = useState(null);\n  const [films, setFilms] = useState([]);\n  const {\n    testandoApenas,\n    data,\n    setData\n  } = useContext(AuthContext);\n  const {\n    params\n  } = useRouteMatch(); // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  function getRidOfHttp(string) {\n    const url = string.replace(/^https?:\\/\\//, '');\n    const baseUrl = 'swapi.dev/api/';\n    const finalUrl = url.replace(baseUrl, '');\n    return finalUrl;\n  }\n\n  let newCharacters = {};\n  const filmsNames = [];\n  const fetchData = useCallback(async () => {\n    const dados = await testandoApenas(params.character);\n    console.log('dados', dados); // setData(dados)\n  }, [params.character]);\n  useEffect(() => {\n    // fetchData()\n    // console.log('wth', teste)\n    // setCharacter(teste)\n    api.get(`/people/?search=${params.character}`).then(response => {\n      if (response.data) {\n        const fetchHistory = response.data.results[0].films.map(item => new Promise(async (resolve, reject) => {\n          const resposta = await api.get(`${item}`);\n          filmsNames.push({\n            name: resposta.data.title,\n            url: resposta.data.url\n          });\n          resolve();\n        }));\n        newCharacters = { ...response.data,\n          filmeszeira: filmsNames\n        };\n        console.log('duha81h4e ', newCharacters);\n        Promise.all(fetchHistory);\n      }\n\n      setTimeout(() => {\n        setCharacter(newCharacters);\n      }, 2000);\n    });\n  }, [params.character]);\n  useEffect(() => {\n    api.get(`${character === null || character === void 0 ? void 0 : character.results[0].homeworld}`).then(response => {\n      setHomeworld(response.data);\n      console.log('acho que nem ta send');\n    });\n    api.get(`${character === null || character === void 0 ? void 0 : character.results[0].species}`).then(response => {\n      setSpecies(response.data);\n      console.log('teste');\n    }); // console.log(\"aaaaaaaaaaaa\", character?.results[0].films)\n    // api.get(`${character?.results[0].films}`).then((response: any) => {\n    //   setFilms(response.data);\n    //   console.log(\"dados\")\n    // });\n  }, [character]);\n\n  if ((character === null || character === void 0 ? void 0 : character.results[0].favorited) === true) {\n    useEffect(() => {\n      localStorage.setItem('@githubExplorer:repositories', JSON.stringify(character));\n    }, [character]); // saves repositores on localstorage when repositories is altered\n  }\n\n  useEffect(() => {\n    // console.log(\"teasd234\", teste)\n    console.log('daibdiad', character);\n    console.log('logando', data);\n  }, [character, data]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  }, \"Star Wars Explorer\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FiChevronLeft, {\n    size: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 11\n    }\n  }), \"Back\")), /*#__PURE__*/React.createElement(Info, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }\n  }, character === null || character === void 0 ? void 0 : character.results[0].name))), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, \"Height: \", character === null || character === void 0 ? void 0 : character.results[0].height, \"cm\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }, \"Birth Year: \", character === null || character === void 0 ? void 0 : character.results[0].birth_year), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }, \"Mass: \", character === null || character === void 0 ? void 0 : character.results[0].mass, \"kg\"), /*#__PURE__*/React.createElement(Link, {\n    key: homeworld === null || homeworld === void 0 ? void 0 : homeworld.name,\n    to: `/Homeworlds/${getRidOfHttp(String(homeworld === null || homeworld === void 0 ? void 0 : homeworld.url))}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 15\n    }\n  }, \"Homeworld: \", homeworld === null || homeworld === void 0 ? void 0 : homeworld.name)), (character === null || character === void 0 ? void 0 : character.results[0].species.length) && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 54\n    }\n  }, \"Species:\"), /*#__PURE__*/React.createElement(Link, {\n    key: species === null || species === void 0 ? void 0 : species.name,\n    to: `/species/${getRidOfHttp(String(species === null || species === void 0 ? void 0 : species.url))}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 15\n    }\n  }, species === null || species === void 0 ? void 0 : species.name)), (character === null || character === void 0 ? void 0 : character.results[0].vehicles.length) && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 55\n    }\n  }, \"Their vehicles:\"), character === null || character === void 0 ? void 0 : character.results[0].vehicles.map(vehicle => /*#__PURE__*/React.createElement(Link, {\n    key: vehicle,\n    to: `/vehicles/${getRidOfHttp(String(vehicle))}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 17\n    }\n  }, vehicle))), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  }, \"Films they appear in:\"), character && (character === null || character === void 0 ? void 0 : character.filmeszeira.map(film => /*#__PURE__*/React.createElement(Link, {\n    key: film.name,\n    to: `/Details/${getRidOfHttp(String(film.url))}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 17\n    }\n  }, film.name)))), (character === null || character === void 0 ? void 0 : character.results[0].starships.length) && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 56\n    }\n  }, \"Their starships:\"), character === null || character === void 0 ? void 0 : character.results[0].starships.map(starship => /*#__PURE__*/React.createElement(Link, {\n    key: starship,\n    to: `/Starships/${getRidOfHttp(String(starship))}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 17\n    }\n  }, starship)))))));\n};\n\nexport default Character;","map":{"version":3,"sources":["/home/art/Desktop/VScripts/StarWars-Explorer/src/pages/Character/index.tsx"],"names":["React","useCallback","useEffect","useState","useRouteMatch","Link","FiChevronLeft","useContext","api","Header","Info","Title","AuthContext","Character","character","setCharacter","homeworld","setHomeworld","species","setSpecies","films","setFilms","testandoApenas","data","setData","params","getRidOfHttp","string","url","replace","baseUrl","finalUrl","newCharacters","filmsNames","fetchData","dados","console","log","get","then","response","fetchHistory","results","map","item","Promise","resolve","reject","resposta","push","name","title","filmeszeira","all","setTimeout","favorited","localStorage","setItem","JSON","stringify","height","birth_year","mass","String","length","vehicles","vehicle","film","starships","starship"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/rules-of-hooks */\n/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable no-unused-expressions */\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useRouteMatch, Link } from 'react-router-dom';\nimport { FiChevronLeft } from 'react-icons/fi';\nimport { useContext } from 'react';\nimport api from '../../services/api';\n\nimport {\n  Header, Info, Title,\n} from './styles';\nimport { AuthContext, AuthProvider } from '../../components/test';\n\ninterface CharacterParams {\n  character: string;\n}\n\ninterface CharacterInfo {\n  results: [\n    {\n      name: string;\n      height: number;\n      mass: number;\n      hair_color: string;\n      skin_color: string;\n      eye_color: string;\n      birth_year: string;\n      gender: string;\n      homeworld: string\n      films: [\n        {\n          title: string;\n        }\n      ];\n      species: [];\n      vehicles: [];\n      starships: [];\n      favorited: boolean;\n\n    }\n  ];\n  filmeszeira: {\n    name: string\n    url: string\n  }[]\n\n}\n\ninterface HomeworldInfo {\n  name: string\n  url: string;\n}\n\ninterface SpeciesInfo {\n  name: string\n  url: string;\n}\n\ninterface FilmsInfo {\n  title: string;\n\n}\n\ninterface FavoriteInfo {\n\n  favoritado: boolean;\n\n}\n\nconst Character: React.FunctionComponent = () => {\n  const [character, setCharacter] = useState<CharacterInfo | null>(null);\n  const [homeworld, setHomeworld] = useState<HomeworldInfo | null>(null);\n  const [species, setSpecies] = useState<SpeciesInfo | null>(null);\n  const [films, setFilms] = useState<FilmsInfo[]>([]);\n\n  const { testandoApenas, data, setData } = useContext(AuthContext);\n\n  const { params } = useRouteMatch<CharacterParams>();\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  function getRidOfHttp(string: string) {\n    const url = string.replace(/^https?:\\/\\//, '');\n    const baseUrl = 'swapi.dev/api/';\n    const finalUrl = url.replace(baseUrl, '');\n    return finalUrl;\n  }\n\n  let newCharacters: any = {};\n  const filmsNames: { name: string, url: string }[] = [];\n\n  const fetchData = useCallback(async () => {\n    const dados = await testandoApenas(params.character);\n    console.log('dados', dados);\n    // setData(dados)\n  }, [params.character]);\n\n  useEffect(() => {\n    // fetchData()\n    // console.log('wth', teste)\n    // setCharacter(teste)\n    api.get(`/people/?search=${params.character}`).then((response: any) => {\n      if (response.data) {\n        const fetchHistory = response.data.results[0].films.map((item: any) => new Promise<void>(async (resolve, reject) => {\n          const resposta = await api.get(\n            `${item}`,\n          );\n          filmsNames.push({ name: resposta.data.title, url: resposta.data.url });\n\n          resolve();\n        }));\n        newCharacters = {\n          ...response.data,\n          filmeszeira: filmsNames,\n        };\n        console.log('duha81h4e ', newCharacters);\n        Promise.all(fetchHistory);\n      }\n      setTimeout(() => {\n        setCharacter(newCharacters);\n      }, 2000);\n    });\n  }, [params.character]);\n\n  useEffect(() => {\n    api.get(`${character?.results[0].homeworld}`).then((response: any) => {\n      setHomeworld(response.data);\n      console.log('acho que nem ta send');\n    });\n\n    api.get(`${character?.results[0].species}`).then((response: any) => {\n      setSpecies(response.data);\n      console.log('teste');\n    });\n\n    // console.log(\"aaaaaaaaaaaa\", character?.results[0].films)\n\n    // api.get(`${character?.results[0].films}`).then((response: any) => {\n    //   setFilms(response.data);\n    //   console.log(\"dados\")\n    // });\n  }, [character]);\n\n  if (character?.results[0].favorited === true) {\n    useEffect(() => {\n      localStorage.setItem(\n        '@githubExplorer:repositories', JSON.stringify(character),\n      );\n    },\n      [character]); // saves repositores on localstorage when repositories is altered\n  }\n\n  useEffect(() => {\n    // console.log(\"teasd234\", teste)\n    console.log('daibdiad', character);\n    console.log('logando', data);\n  }, [character, data]);\n\n  return (\n    <>\n      <Header>\n        <Title>Star Wars Explorer</Title>\n        <Link to=\"/\">\n          <FiChevronLeft size={16} />\n          Back\n        </Link>\n      </Header>\n\n      <Info>\n        <header>\n          <div>\n            <strong>{character?.results[0].name}</strong>\n          </div>\n        </header>\n        <ul>\n          <li>\n            <p>Height: {character?.results[0].height}cm</p>\n            <p>Birth Year: {character?.results[0].birth_year}</p>\n            <p>Mass: {character?.results[0].mass}kg</p>\n\n            <Link key={homeworld?.name} to={`/Homeworlds/${getRidOfHttp(String(homeworld?.url))}`}>\n              <p>Homeworld: {homeworld?.name}</p>\n            </Link>\n            {character?.results[0].species.length && <p>Species:</p>}\n            <Link key={species?.name} to={`/species/${getRidOfHttp(String(species?.url))}`}>\n\n              <p>{species?.name}</p>\n            </Link>\n\n            {character?.results[0].vehicles.length && <p>Their vehicles:</p>}\n            {character?.results[0].vehicles.map((vehicle) => (\n              <Link key={vehicle} to={`/vehicles/${getRidOfHttp(String(vehicle))}`}>\n                <p>{vehicle}</p>\n              </Link>\n\n            ))}\n\n            <p>Films they appear in:</p>\n            {character && character?.filmeszeira.map((film: any) => (\n\n              <Link key={film.name} to={`/Details/${(getRidOfHttp(String(film.url)))}`}>\n                <p>{film.name}</p>\n              </Link>\n            ))}\n\n            {character?.results[0].starships.length && <p>Their starships:</p>}\n            {character?.results[0].starships.map((starship) => (\n\n              <Link key={starship} to={`/Starships/${(getRidOfHttp(String(starship)))}`}>\n                <p>{starship}</p>\n              </Link>\n            ))}\n\n          </li>\n        </ul>\n\n      </Info>\n\n    </>\n  );\n};\n\nexport default Character;\n"]},"metadata":{},"sourceType":"module"}