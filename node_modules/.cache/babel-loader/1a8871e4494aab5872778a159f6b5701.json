{"ast":null,"code":"var _jsxFileName = \"/home/art/Desktop/VScripts/StarWars-Explorer/src/pages/Character/index.tsx\";\n\n/* eslint-disable react-hooks/rules-of-hooks */\n\n/* eslint-disable react/jsx-props-no-spreading */\n\n/* eslint-disable no-unused-expressions */\nimport React, { useCallback, useEffect, useState, useContext } from 'react';\nimport { useRouteMatch, Link } from 'react-router-dom';\nimport { FiChevronLeft } from 'react-icons/fi';\nimport api from '../../services/api';\nimport { Header, Info, Title } from './styles';\nimport { AuthContext } from '../../components/test';\n\nconst Character = () => {\n  const [character, setCharacter] = useState(null);\n  const [homeworld, setHomeworld] = useState(null);\n  const [species, setSpecies] = useState(null);\n  const [films, setFilms] = useState([]);\n  const {\n    testandoApenas,\n    data,\n    setData\n  } = useContext(AuthContext);\n  const {\n    params\n  } = useRouteMatch(); // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n  function getRidOfHttp(string) {\n    const url = string.replace(/^https?:\\/\\//, '');\n    const baseUrl = 'swapi.dev/api/';\n    const finalUrl = url.replace(baseUrl, '');\n    return finalUrl;\n  }\n\n  let newCharacters = {};\n  const filmsNames = [];\n  const fetchData = useCallback(async () => {\n    const dados = await testandoApenas(params.character);\n    console.log('dados', dados); // setData(dados)\n  }, [params.character]);\n  useEffect(() => {\n    // fetchData()\n    // console.log('wth', teste)\n    // setCharacter(teste)\n    api.get(`/people/?search=${params.character}`).then(response => {\n      if (response.data) {\n        const fetchHistory = response.data.results[0].films.map( // eslint-disable-next-line no-async-promise-executor\n        item => new Promise(async (resolve, reject) => {\n          const resposta = await api.get(`${item}`);\n          filmsNames.push({\n            name: resposta.data.title,\n            url: resposta.data.url\n          });\n          resolve();\n        }));\n        newCharacters = { ...response.data,\n          filmeszeira: filmsNames\n        };\n        console.log('duha81h4e ', newCharacters);\n        Promise.all(fetchHistory);\n      }\n\n      setTimeout(() => {\n        setCharacter(newCharacters);\n      }, 2000);\n    });\n  }, [params.character]);\n  useEffect(() => {\n    if (character === null || character === void 0 ? void 0 : character.results[0].homeworld) {\n      var _character$results$;\n\n      api.get(`${character === null || character === void 0 ? void 0 : (_character$results$ = character.results[0]) === null || _character$results$ === void 0 ? void 0 : _character$results$.homeworld}`).then(response => {\n        setHomeworld(response.data);\n        console.log('acho que nem ta send');\n      });\n    }\n\n    if (character === null || character === void 0 ? void 0 : character.results[0].species) {\n      api.get(`${character === null || character === void 0 ? void 0 : character.results[0].species}`).then(response => {\n        setSpecies(response.data);\n        console.log('teste');\n      });\n    } // console.log(\"aaaaaaaaaaaa\", character?.results[0].films)\n    // api.get(`${character?.results[0].films}`).then((response: any) => {\n    //   setFilms(response.data);\n    //   console.log(\"dados\")\n    // });\n\n  }, [character]);\n\n  if ((character === null || character === void 0 ? void 0 : character.results[0].favorited) === true) {\n    useEffect(() => {\n      localStorage.setItem('@githubExplorer:repositories', JSON.stringify(character));\n    }, [character]); // saves repositores on localstorage when repositories is altered\n  }\n\n  useEffect(() => {\n    // console.log(\"teasd234\", teste)\n    console.log('daibdiad', character);\n    console.log('logando', data);\n  }, [character, data]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, \"Star Wars Explorer\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FiChevronLeft, {\n    size: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 11\n    }\n  }), \"Back\")), /*#__PURE__*/React.createElement(Info, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }\n  }, character === null || character === void 0 ? void 0 : character.results[0].name))), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }, \"Height: \", character === null || character === void 0 ? void 0 : character.results[0].height, \"cm\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }, \"Birth Year: \", character === null || character === void 0 ? void 0 : character.results[0].birth_year), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  }, \"Mass: \", character === null || character === void 0 ? void 0 : character.results[0].mass, \"kg\"), /*#__PURE__*/React.createElement(Link, {\n    key: homeworld === null || homeworld === void 0 ? void 0 : homeworld.name,\n    to: `/Homeworlds/${getRidOfHttp(String(homeworld === null || homeworld === void 0 ? void 0 : homeworld.url))}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 15\n    }\n  }, \"Homeworld: \", homeworld === null || homeworld === void 0 ? void 0 : homeworld.name)), (character === null || character === void 0 ? void 0 : character.results[0].species.length) && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 54\n    }\n  }, \"Species:\"), /*#__PURE__*/React.createElement(Link, {\n    key: species === null || species === void 0 ? void 0 : species.name,\n    to: `/species/${getRidOfHttp(String(species === null || species === void 0 ? void 0 : species.url))}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 15\n    }\n  }, species === null || species === void 0 ? void 0 : species.name)), (character === null || character === void 0 ? void 0 : character.results[0].vehicles.length) && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 55\n    }\n  }, \"Their vehicles:\"), character === null || character === void 0 ? void 0 : character.results[0].vehicles.map(vehicle => /*#__PURE__*/React.createElement(Link, {\n    key: vehicle,\n    to: `/vehicles/${getRidOfHttp(String(vehicle))}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 17\n    }\n  }, vehicle))), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }\n  }, \"Films they appear in:\"), character && (character === null || character === void 0 ? void 0 : character.filmeszeira.map(film => /*#__PURE__*/React.createElement(Link, {\n    key: film.name,\n    to: `/Details/${getRidOfHttp(String(film.url))}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 19\n    }\n  }, film.name)))), (character === null || character === void 0 ? void 0 : character.results[0].starships.length) && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 56\n    }\n  }, \"Their starships:\"), character === null || character === void 0 ? void 0 : character.results[0].starships.map(starship => /*#__PURE__*/React.createElement(Link, {\n    key: starship,\n    to: `/Starships/${getRidOfHttp(String(starship))}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 17\n    }\n  }, starship)))))));\n};\n\nexport default Character;","map":{"version":3,"sources":["/home/art/Desktop/VScripts/StarWars-Explorer/src/pages/Character/index.tsx"],"names":["React","useCallback","useEffect","useState","useContext","useRouteMatch","Link","FiChevronLeft","api","Header","Info","Title","AuthContext","Character","character","setCharacter","homeworld","setHomeworld","species","setSpecies","films","setFilms","testandoApenas","data","setData","params","getRidOfHttp","string","url","replace","baseUrl","finalUrl","newCharacters","filmsNames","fetchData","dados","console","log","get","then","response","fetchHistory","results","map","item","Promise","resolve","reject","resposta","push","name","title","filmeszeira","all","setTimeout","favorited","localStorage","setItem","JSON","stringify","height","birth_year","mass","String","length","vehicles","vehicle","film","starships","starship"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/rules-of-hooks */\n/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable no-unused-expressions */\nimport React, {\n  useCallback, useEffect, useState, useContext,\n} from 'react';\nimport { useRouteMatch, Link } from 'react-router-dom';\nimport { FiChevronLeft } from 'react-icons/fi';\nimport api from '../../services/api';\n\nimport { Header, Info, Title } from './styles';\nimport { AuthContext, AuthProvider } from '../../components/test';\n\ninterface CharacterParams {\n  character: string;\n}\n\ninterface CharacterInfo {\n  results: [\n    {\n      name: string;\n      height: number;\n      mass: number;\n      hair_color: string;\n      skin_color: string;\n      eye_color: string;\n      birth_year: string;\n      gender: string;\n      homeworld: string;\n      films: [\n        {\n          title: string;\n        },\n      ];\n      species: [];\n      vehicles: [];\n      starships: [];\n      favorited: boolean;\n    },\n  ];\n  filmeszeira: {\n    name: string;\n    url: string;\n  }[];\n}\n\ninterface HomeworldInfo {\n  name: string;\n  url: string;\n}\n\ninterface SpeciesInfo {\n  name: string;\n  url: string;\n}\n\ninterface FilmsInfo {\n  title: string;\n}\n\ninterface FavoriteInfo {\n  favoritado: boolean;\n}\n\nconst Character: React.FunctionComponent = () => {\n  const [character, setCharacter] = useState<CharacterInfo | null>(null);\n  const [homeworld, setHomeworld] = useState<HomeworldInfo | null>(null);\n  const [species, setSpecies] = useState<SpeciesInfo | null>(null);\n  const [films, setFilms] = useState<FilmsInfo[]>([]);\n\n  const { testandoApenas, data, setData } = useContext(AuthContext);\n\n  const { params } = useRouteMatch<CharacterParams>();\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  function getRidOfHttp(string: string) {\n    const url = string.replace(/^https?:\\/\\//, '');\n    const baseUrl = 'swapi.dev/api/';\n    const finalUrl = url.replace(baseUrl, '');\n    return finalUrl;\n  }\n\n  let newCharacters: any = {};\n  const filmsNames: { name: string; url: string }[] = [];\n\n  const fetchData = useCallback(async () => {\n    const dados = await testandoApenas(params.character);\n    console.log('dados', dados);\n    // setData(dados)\n  }, [params.character]);\n\n  useEffect(() => {\n    // fetchData()\n    // console.log('wth', teste)\n    // setCharacter(teste)\n    api.get(`/people/?search=${params.character}`).then((response: any) => {\n      if (response.data) {\n        const fetchHistory = response.data.results[0].films.map(\n          // eslint-disable-next-line no-async-promise-executor\n          (item: any) => new Promise<void>(async (resolve, reject) => {\n            const resposta = await api.get(`${item}`);\n            filmsNames.push({\n              name: resposta.data.title,\n              url: resposta.data.url,\n            });\n\n            resolve();\n          }),\n        );\n        newCharacters = {\n          ...response.data,\n          filmeszeira: filmsNames,\n        };\n        console.log('duha81h4e ', newCharacters);\n        Promise.all(fetchHistory);\n      }\n      setTimeout(() => {\n        setCharacter(newCharacters);\n      }, 2000);\n    });\n  }, [params.character]);\n\n  useEffect(() => {\n    if (character?.results[0].homeworld) {\n      api.get(`${character?.results[0]?.homeworld}`).then((response: any) => {\n        setHomeworld(response.data);\n        console.log('acho que nem ta send');\n      });\n    }\n\n    if (character?.results[0].species) {\n      api.get(`${character?.results[0].species}`).then((response: any) => {\n        setSpecies(response.data);\n        console.log('teste');\n      });\n    }\n\n    // console.log(\"aaaaaaaaaaaa\", character?.results[0].films)\n\n    // api.get(`${character?.results[0].films}`).then((response: any) => {\n    //   setFilms(response.data);\n    //   console.log(\"dados\")\n    // });\n  }, [character]);\n\n  if (character?.results[0].favorited === true) {\n    useEffect(() => {\n      localStorage.setItem(\n        '@githubExplorer:repositories',\n        JSON.stringify(character),\n      );\n    }, [character]); // saves repositores on localstorage when repositories is altered\n  }\n\n  useEffect(() => {\n    // console.log(\"teasd234\", teste)\n    console.log('daibdiad', character);\n    console.log('logando', data);\n  }, [character, data]);\n\n  return (\n    <>\n      <Header>\n        <Title>Star Wars Explorer</Title>\n        <Link to=\"/\">\n          <FiChevronLeft size={16} />\n          Back\n        </Link>\n      </Header>\n\n      <Info>\n        <header>\n          <div>\n            <strong>{character?.results[0].name}</strong>\n          </div>\n        </header>\n        <ul>\n          <li>\n            <p>Height: {character?.results[0].height}cm</p>\n            <p>Birth Year: {character?.results[0].birth_year}</p>\n            <p>Mass: {character?.results[0].mass}kg</p>\n\n            <Link\n              key={homeworld?.name}\n              to={`/Homeworlds/${getRidOfHttp(String(homeworld?.url))}`}\n            >\n              <p>Homeworld: {homeworld?.name}</p>\n            </Link>\n            {character?.results[0].species.length && <p>Species:</p>}\n            <Link\n              key={species?.name}\n              to={`/species/${getRidOfHttp(String(species?.url))}`}\n            >\n              <p>{species?.name}</p>\n            </Link>\n\n            {character?.results[0].vehicles.length && <p>Their vehicles:</p>}\n            {character?.results[0].vehicles.map((vehicle) => (\n              <Link\n                key={vehicle}\n                to={`/vehicles/${getRidOfHttp(String(vehicle))}`}\n              >\n                <p>{vehicle}</p>\n              </Link>\n            ))}\n\n            <p>Films they appear in:</p>\n            {character\n              && character?.filmeszeira.map((film: any) => (\n                <Link\n                  key={film.name}\n                  to={`/Details/${getRidOfHttp(String(film.url))}`}\n                >\n                  <p>{film.name}</p>\n                </Link>\n              ))}\n\n            {character?.results[0].starships.length && <p>Their starships:</p>}\n            {character?.results[0].starships.map((starship) => (\n              <Link\n                key={starship}\n                to={`/Starships/${getRidOfHttp(String(starship))}`}\n              >\n                <p>{starship}</p>\n              </Link>\n            ))}\n          </li>\n        </ul>\n      </Info>\n    </>\n  );\n};\n\nexport default Character;\n"]},"metadata":{},"sourceType":"module"}